<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JustBoiPDF.Com</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .ad-container {
            margin: 20px 0;
            text-align: center;
        }
        .logo-link {
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            color: inherit;
        }
        .logo-link img {
            width: 40px;
            height: auto;
        }
        :root {
            --primary-color: #3498db;
            --secondary-color: #2980b9;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
            --gray-color: #95a5a6;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid #ddd;
        }
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        h1 {
            color: var(--dark-color);
        }
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
        }
        .search-box {
            flex: 1;
            min-width: 250px;
            position: relative;
        }
        .search-box input {
            width: 100%;
            padding: 10px 15px 10px 40px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1em;
        }
        .search-box i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray-color);
        }
        .filter-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        select {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
            cursor: pointer;
        }
        .view-toggle {
            display: flex;
            gap: 10px;
        }
        .view-toggle button {
            background: white;
            border: 1px solid #ddd;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .view-toggle button.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        .view-toggle button:hover {
            background: #eee;
        }
        .view-toggle button.active:hover {
            background: var(--secondary-color);
        }
        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }
        .book-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            display: flex;
            flex-direction: column;
        }
        .book-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        .book-cover {
            height: 180px;
            background-color: #eee;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        .book-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: var(--warning-color);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: bold;
        }
        .ad-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: var(--primary-color);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: bold;
        }
        .book-cover img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        .book-info {
            padding: 15px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        .book-title {
            font-weight: bold;
            margin-bottom: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .book-author {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 10px;
        }
        .book-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.8em;
            color: var(--gray-color);
            margin-top: auto;
        }
        .book-rating {
            color: var(--warning-color);
        }
        .book-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        .btn {
            padding: 8px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
            flex: 1;
            text-align: center;
            text-decoration: none;
            font-size: 0.9em;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }
        .btn-demo {
            background-color: var(--primary-color);
            color: white;
        }
        .btn-demo:hover {
            background-color: var(--secondary-color);
        }
        .btn-download {
            background-color: var(--success-color);
            color: white;
        }
        .btn-download:hover {
            background-color: #27ae60;
        }
        .btn-favorite {
            background-color: var(--danger-color);
            color: white;
            flex: 0;
            padding: 8px 10px;
        }
        .btn-favorite:hover {
            background-color: #c0392b;
        }
        .books-list {
            display: none;
        }
        .books-list.active {
            display: block;
        }
        .book-item {
            background: white;
            border-radius: 8px;
            padding: 15px 20px;
            margin-bottom: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
            transition: transform 0.3s;
        }
        .book-item:hover {
            transform: translateX(5px);
        }
        .list-cover {
            width: 60px;
            height: 80px;
            background-color: #eee;
            margin-right: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            position: relative;
        }
        .list-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--warning-color);
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.7em;
            font-weight: bold;
        }
        .list-ad-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--primary-color);
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.7em;
            font-weight: bold;
        }
        .list-cover img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        .list-info {
            flex-grow: 1;
        }
        .list-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .list-author {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 5px;
        }
        .list-meta {
            display: flex;
            gap: 15px;
            font-size: 0.8em;
            color: var(--gray-color);
        }
        .list-rating {
            color: var(--warning-color);
        }
        .list-actions {
            display: flex;
            gap: 10px;
        }
        .pagination {
            display: none;
            justify-content: center;
            margin-top: 30px;
            gap: 5px;
        }
        .page-btn {
            padding: 8px 12px;
            border: 1px solid #ddd;
            background: white;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .page-btn.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        .page-btn:hover:not(.active) {
            background: #eee;
        }
        .page-btn.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .load-more-container {
            text-align: center;
            margin-top: 20px;
            margin-bottom: 30px;
        }
        #load-more-btn {
            padding: 10px 30px;
            font-size: 1em;
        }
        .empty-state {
            text-align: center;
            padding: 50px 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        .empty-state i {
            font-size: 3em;
            color: var(--gray-color);
            margin-bottom: 15px;
        }
        .empty-state h3 {
            color: var(--dark-color);
            margin-bottom: 10px;
        }
        .empty-state p {
            color: #666;
            max-width: 500px;
            margin: 0 auto;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: white;
            border-radius: 8px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow: auto;
            padding: 20px;
            position: relative;
        }
        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5em;
            cursor: pointer;
            color: var(--gray-color);
        }
        .close-modal:hover {
            color: var(--dark-color);
        }
        .modal-body {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .modal-cover {
            text-align: center;
        }
        .modal-cover img {
            max-height: 300px;
            max-width: 100%;
        }
        .modal-info h2 {
            margin-bottom: 10px;
        }
        .modal-meta {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        .modal-meta div {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .modal-description {
            line-height: 1.6;
        }
        .modal-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        #embed-modal .modal-content {
            width: 640px;
            height: 750px;
            max-width: 640px;
            max-height: 750px;
            padding: 10px;
        }
        #embed-viewer {
            width: 100%;
            height: 100%;
            border: none;
            background: #f5f5f5;
            border-radius: 4px;
        }
        
        /* Admin Styles */
        .admin-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }
        .admin-modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        .admin-modal h2 {
            margin-bottom: 20px;
            color: var(--dark-color);
            text-align: center;
        }
        .admin-form-group {
            margin-bottom: 20px;
        }
        .admin-form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        .admin-form-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1em;
        }
        .admin-submit-btn {
            width: 100%;
            padding: 12px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1em;
            transition: background 0.3s;
        }
        .admin-submit-btn:hover {
            background-color: var(--secondary-color);
        }
        .admin-panel {
            display: none;
            background-color: #f8f9fa;
            padding: 20px;
            margin-top: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .admin-panel h2 {
            color: var(--dark-color);
            margin-bottom: 20px;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
        }
        .admin-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
        }
        .admin-btn {
            padding: 10px 15px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .admin-btn:hover {
            background-color: var(--secondary-color);
        }
        .admin-btn.danger {
            background-color: var(--danger-color);
        }
        .admin-btn.danger:hover {
            background-color: #c0392b;
        }
        .admin-btn.success {
            background-color: var(--success-color);
        }
        .admin-btn.success:hover {
            background-color: #27ae60;
        }
        .book-form {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .book-form-group {
            margin-bottom: 15px;
        }
        .book-form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        .book-form-group input,
        .book-form-group textarea,
        .book-form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1em;
        }
        .book-form-group textarea {
            min-height: 100px;
            resize: vertical;
        }
        .admin-nav {
            position: fixed;
            top: 10px;
            right: 10px;
            z-index: 1000;
        }
        .admin-nav-btn {
            background-color: var(--dark-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header-top {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            .books-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            .book-item {
                flex-direction: column;
                text-align: center;
            }
            .list-cover {
                margin-right: 0;
                margin-bottom: 15px;
            }
            .list-meta {
                justify-content: center;
            }
            .list-actions {
                margin-top: 15px;
                width: 100%;
            }
            .list-actions .btn {
                flex: 1;
            }
            #embed-modal .modal-content {
                width: 95%;
                height: 80vh;
                max-width: 95%;
                max-height: 80vh;
            }
        }
        @media (min-width: 992px) {
            .modal-body {
                flex-direction: row;
            }
            .modal-cover {
                flex: 1;
            }
            .modal-info {
                flex: 2;
            }
        }
    </style>
</head>
<body>
    <!-- Admin Navigation Button -->
    <div class="admin-nav">
        <button class="admin-nav-btn" id="admin-login-btn">
            <i class="fas fa-user-shield"></i>
        </button>
    </div>

    <div class="container">
       <!-- ✅ HTML -->
<header class="site-header">
    <div class="header-top">
        <div class="logo">
            <a href="index.html" class="logo-link">
                <img src="https://i.ibb.co/mFSfG5FD/9s4v6i.gif" alt="JustBoiPDF logo">
                <h1>JustBoiPDF</h1>
            </a>
        </div>

        <div class="view-toggle">
            <button id="grid-view" class="active"><i class="fas fa-th"></i> Grid</button>
            <button id="list-view"><i class="fas fa-list"></i> List</button>
        </div>
    </div>

    <!-- 🟨 Responsive Ad Card -->
    <div class="header-ad">
        <div class="ad-card">
            <script type="text/javascript" src="https://udbaa.com/bnr.php?section=pdfbooks&pub=225212&format=728x90&ga=g"></script>
            <noscript>
                <a href="https://yllix.com/publishers/225212" target="_blank">
                    <img src="//ylx-aff.advertica-cdn.com/pub/728x90.png" alt="ylliX Ad" />
                </a>
            </noscript>
        </div>
    </div>

    <div class="controls">
        <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" id="search-input" placeholder="বই খুঁজুন...">
        </div>

        <div class="filter-group">
            <label for="category-filter"><i class="fas fa-filter"></i></label>
            <select id="category-filter">
                <option value="all">ইসলামিক বই</option>
                <option value="programming">প্রোগ্রামিং</option>
                <option value="design">ডিজাইন</option>
                <option value="business">ব্যবসা</option>
                <option value="science">বিজ্ঞান</option>
            </select>
        </div>

        <div class="filter-group">
            <label for="sort-by"><i class="fas fa-sort"></i></label>
            <select id="sort-by">
                <option value="title-asc">শিরোনাম (A-Z)</option>
                <option value="title-desc">শিরোনাম (Z-A)</option>
                <option value="date-newest">সর্বশেষ প্রথম</option>
                <option value="date-oldest">প্রাচীনতম প্রথম</option>
                <option value="rating">সর্বোচ্চ রেটিং</option>
            </select>
        </div>
    </div>
</header>

<!-- ✅ Responsive CSS -->
<style>
    .site-header {
        padding: 15px;
        font-family: sans-serif;
    }

    .header-top {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 10px;
    }

    .logo-link {
        display: flex;
        align-items: center;
        text-decoration: none;
        color: #000;
        gap: 10px;
    }

    .logo img {
        width: 40px;
        height: auto;
    }

    .logo h1 {
        font-size: 20px;
        margin: 0;
    }

    .view-toggle button {
        padding: 6px 12px;
        margin-left: 5px;
        border: none;
        cursor: pointer;
        background: #eee;
        border-radius: 4px;
    }

    .view-toggle button.active {
        background: #007bff;
        color: #fff;
    }

    .header-ad {
        margin: 15px 0;
        text-align: center;
    }

    .ad-card {
        background: #fff;
        border: 1px solid #ccc;
        padding: 10px;
        border-radius: 10px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        max-width: 100%;
        overflow: hidden;
    }

    .ad-card img {
        width: 100%;
        height: auto;
    }

    .controls {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        align-items: center;
        margin-top: 10px;
    }

    .search-box {
        flex: 1 1 100%;
        display: flex;
        align-items: center;
        border: 1px solid #ccc;
        border-radius: 5px;
        padding: 6px 10px;
    }

    .search-box i {
        margin-right: 8px;
    }

    .search-box input {
        border: none;
        outline: none;
        flex: 1;
    }

    .filter-group {
        display: flex;
        align-items: center;
        gap: 5px;
    }

    @media (min-width: 600px) {
        .controls {
            flex-wrap: nowrap;
        }

        .search-box {
            flex: 2;
        }

        .filter-group {
            flex: 1;
        }
    }
</style>

        
        <!-- Ad Container -->
        <div class="ad-container">
            <!-- Ad content here -->
        </div>

        <!-- Main Content -->
        <main>
            <!-- Grid View -->
            <div class="books-grid" id="grid-container">
                <!-- Books will be inserted here by JavaScript -->
            </div>
            
            <!-- List View -->
            <div class="books-list" id="list-container">
                <!-- Books will be inserted here by JavaScript -->
            </div>
            
            <!-- Empty State -->
            <div class="empty-state" id="empty-state" style="display: none;">
                <i class="fas fa-book-open"></i>
                <h3>কোন বই পাওয়া যায়নি</h3>
                <p>আপনি যা খুঁজছেন তা খুঁজে পেতে আপনার অনুসন্ধান বা ফিল্টার মানদণ্ড সামঞ্জস্য করুন।</p>
            </div>
            
            <!-- Pagination -->
            <div class="pagination" id="pagination">
                <!-- Pagination buttons will be inserted here by JavaScript -->
            </div>
            
            <!-- Load More Button -->
            <div class="load-more-container">
                <button id="load-more-btn" class="btn btn-demo">
                    <i class="fas fa-plus"></i> Load 15 More Books
                </button>
            </div>
        </main>
        
        <!-- Admin Panel -->
        <div class="admin-panel" id="admin-panel">
            <h2>Admin Dashboard</h2>
            <div class="admin-controls">
                <button class="admin-btn" id="add-book-btn">Add New Book</button>
                <button class="admin-btn danger" id="logout-btn">Logout</button>
            </div>
            <div class="book-form" id="book-form" style="display: none;">
                <h3>Add/Edit Book</h3>
                <form id="book-management-form">
                    <input type="hidden" id="book-id">
                    <div class="book-form-group">
                        <label for="book-title">Title</label>
                        <input type="text" id="book-title" required>
                    </div>
                    <div class="book-form-group">
                        <label for="book-author">Author</label>
                        <input type="text" id="book-author" required>
                    </div>
                    <div class="book-form-group">
                        <label for="book-category">Category</label>
                        <select id="book-category" required>
                            <option value="Islamic books">ইসলামিক বই</option>
                            <option value="programming">প্রোগ্রামিং</option>
                            <option value="design">ডিজাইন</option>
                            <option value="business">ব্যবসা</option>
                            <option value="science">বিজ্ঞান</option>
                        </select>
                    </div>
                    <div class="book-form-group">
                        <label for="book-cover">Cover Image URL</label>
                        <input type="url" id="book-cover" required>
                    </div>
                    <div class="book-form-group">
                        <label for="book-demo">Demo URL</label>
                        <input type="url" id="book-demo" required>
                    </div>
                    <div class="book-form-group">
                        <label for="book-download">Download URL</label>
                        <input type="url" id="book-download" required>
                    </div>
                    <div class="book-form-group">
                        <label for="book-pages">Pages</label>
                        <input type="number" id="book-pages" required>
                    </div>
                    <div class="book-form-group">
                        <label for="book-rating">Rating (1-5)</label>
                        <input type="number" id="book-rating" min="1" max="5" step="0.1" required>
                    </div>
                    <div class="book-form-group">
                        <label for="book-date">Publication Date</label>
                        <input type="date" id="book-date" required>
                    </div>
                    <div class="book-form-group">
                        <label for="book-description">Description</label>
                        <textarea id="book-description" required></textarea>
                    </div>
                    <div class="book-form-group">
                        <label>
                            <input type="checkbox" id="book-featured"> Featured Book
                        </label>
                    </div>
                    <div class="book-form-group">
                        <button type="submit" class="admin-btn success">Save Book</button>
                        <button type="button" class="admin-btn danger" id="cancel-book-btn">Cancel</button>
                    </div>
                </form>
            </div>
            <h3>Manage Books</h3>
            <div id="books-list-admin">
                <!-- Books will be listed here for admin management -->
            </div>
        </div>
    </div>

    <!-- Book Details Modal -->
    <div class="modal" id="book-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-body">
                <div class="modal-cover">
                    <img id="modal-cover-img" src="" alt="বইয়ের কভার">
                </div>
                <div class="modal-info">
                    <h2 id="modal-title"></h2>
                    <div class="modal-meta">
                        <div><i class="fas fa-user"></i> <span id="modal-author"></span></div>
                        <div><i class="fas fa-book"></i> <span id="modal-pages"></span> পৃষ্ঠা</div>
                        <div><i class="fas fa-star"></i> <span id="modal-rating"></span></div>
                        <div><i class="fas fa-calendar-alt"></i> <span id="modal-date"></span></div>
                        <div><i class="fas fa-tag"></i> <span id="modal-category"></span></div>
                    </div>
                    <div class="modal-description" id="modal-description"></div>
                    <div class="modal-actions">
                        <a href="#" class="btn btn-demo" id="modal-demo-btn"><i class="fas fa-eye"></i>View Demo</a>
                        <a href="#" class="btn btn-download" id="modal-download-btn"><i class="fas fa-download"></i>Download PDF</a>
                        <button class="btn btn-favorite" id="modal-favorite-btn">
                            <i class="far fa-heart"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Embed Viewer Modal -->
    <div class="modal" id="embed-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-embed">&times;</span>
            <div class="modal-body" style="height: 100%;">
                <iframe id="embed-viewer"></iframe>
            </div>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div class="admin-modal" id="admin-login-modal">
        <div class="admin-modal-content">
            <h2>Admin Login</h2>
            <form id="admin-login-form">
                <div class="admin-form-group">
                    <label for="admin-username">Username</label>
                    <input type="text" id="admin-username" required>
                </div>
                <div class="admin-form-group">
                    <label for="admin-password">Password</label>
                    <input type="password" id="admin-password" required>
                </div>
                <button type="submit" class="admin-submit-btn">Login</button>
            </form>
        </div>
    </div>

    <script>
        // Bengali book data
        let books = [
            {
                id: 1,
                title: "বিয়ের এপিঠ ওপিঠ pdf ডাউনলোড",
                author: "জাকারিয়া মাসুদ",
                category: "Islamic books",
                cover: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh00uqcUiXxcvfffSxDNlFCMAj7Q-wh1JbS6haQArCwajXNshRuH0EhT2vsskbLwsKF1B7x-FDj5Rmtd7z2sQtIBK9f_wYsT5uh9EJzn1IJ9BQVp5k5uS-wZiWYLejhJK2EbR0dlT1wRm2kI4oIaMndkkZ81l5OQ7Fu39zk3YqqCIcFMlo9gg5-_VWdJ4bK/s389/Biyer-Epith-Opthit-pdf-download.webp",
                demoUrl: "https://www.justboipdf.com/2024/05/biyer-epith-opith-pdf.html",
                downloadUrl: "https://www.justboipdf.com/2024/05/biyer-epith-opith-pdf.html",
                pages: 704,
                rating: 4.5,
                date: "2020-05-15",
                featured: true,
                favorite: false,
                description: "এই বইটি একজন প্রোগ্রামারের জন্য একটি গাইড এবং ওয়েব ব্রাউজার দ্বারা সংজ্ঞায়িত কোর জাভাস্ক্রিপ্ট ভাষা এবং ক্লায়েন্ট-সাইড জাভাস্ক্রিপ্ট API-এর একটি ব্যাপক রেফারেন্স।"
            },
            {
                id: 2,
                title: "প্যারাডক্সিক্যাল সাজিদ ১",
                author: "আরিফ আজাদ",
                category: "Islamic books",
                cover: "https://i.ibb.co/fdxb548T/paradoxical-sajid-1.jpg",
                demoUrl: "https://drive.google.com/file/d/1QHAPA5JwQqA5EWfRs19D-76H-85FzggX/view",
                downloadUrl: "https://www.dropbox.com/scl/fi/wq45urbwl9kz2qon6xefk/JustBoipdf.com.pdf?rlkey=77f7owyqk6306b5z2f4zm0tu0&st=q1tl4zuv&dl=1",
                pages: 464,
                rating: 4.7,
                date: "2008-08-01",
                featured: true,
                favorite: false,
                description: "বর্তমান যুগ হলো প্রেজেন্টাশানের যুগ। একটা জিনিসকে আপনি কিভাবে, কতোটা সহজে, কতোটা সাবলীলভাবে, কতোটা মাধুর্যতায় প্রেজেন্টেশান করছেন তার উপর কিন্তু অনেক কিছুই নির্ভর করে। ন্যাচারালি, মানুষের একটা স্বভাব হচ্ছে – এরা তত্ত্বকথা খুব কম হজম করতে পারে। এরা চায় সহজবোধ্যতা। প্যারাডক্সিক্যাল সাজিদ এর লেখক আরিফ আজাদ ঠিক এই পদ্ধতিই বেছে নিয়েছেন। তিনি গতানুগতিক লেকচার বা তত্বকথার ধাঁচে না গিয়ে, বক্তব্যের বিষয়গুলোকে গল্পের ধাঁচে ফেলে সাজিয়েছেন। প্রতিটি গল্পের শুরুতেই আছে মজার, আগ্রহ উদ্দীপক একটি সূচনা। কোথাও বা গল্পের কেন্দ্রীয় চরিত্র সাজিদের সাথে তাঁর বন্ধু আরিফের খুনসুটি, কোথাও বা মজার কোন স্মৃতির রোমন্থন, কোথাও বা আছে সিরিয়াস কোন ব্যাপারে সিরিয়াস কোন হুশিয়ারি। গল্পে মজা আছে, আনন্দ আছে। মোটামুটি, সার্থক গল্পে যা যা উপাদান থাকা দরকার, যা যা থাকলে পাঠকের গল্প পাঠে বিরক্তি আসেনা, রুচি হারায় না- তার সবকিছুর এক সম্মিলিত সন্নিবেশ যেন লেখক আরিফ আজাদের এই সিরিজের একেকটি এপিসোড। গল্পে গল্পে যুক্তি খন্ডন, পাল্টা যুক্তি ছুঁড়ে দেওয়া, পরম মমতায় অবিশ্বাসের অন্ধকার দূরীকরণে এ যেন এক বিশ্বস্ত শিল্পী।"
            },
            {
                id: 3,
                title: "প্যারাডক্সিক্যাল সাজিদ ২",
                author: "আরিফ আজাদ",
                category: "Islamic books",
                cover: "https://i.ibb.co/jZyjKXx4/justboipdf.png",
                demoUrl: "https://drive.google.com/file/d/1QH5ZC6rdsucnxFG5-o5yTpUyAtPB_2Wz/view",
                downloadUrl: "https://www.dropbox.com/scl/fi/z27v6i8iytnpx5s7vhnmk/JustBoipdf.com.pdf?rlkey=0h72zz1f0oho2plroto1e4tyr&st=98ncmraj&dl=1",
                pages: 235,
                rating: 4.6,
                date: "2019-02-15",
                featured: true,
                favorite: false,
                description: "ইসলাম কারও শত্রু হতে আসেনি। ইসলাম এসেছে মানুষকে ভুলে যাওয়া ওয়াদা স্মরণ করিয়ে দিতে, যে ওয়াদা আমরা প্রত্যেকেই দিয়ে এসেছি আল্লাহর কাছে রূহের জগতে। এবং আমাদের আসল শত্রু ইবলিশ শয়তানকে চিনিয়ে দিতেই আল্লাহ্‌ পাঠিয়েছেন যুগে যুগে নবি রসূল। কিন্তু কিছু লোক সেই শত্রুকে ছেড়ে ইসলামকেই শত্রু হিশেবে নিয়েছে! এর পেছনে একাধিক কারণ থাকলেও অন্যতম একটি কারণ হচ্ছে, নষ্ট হওয়া ফিতরাতি বুঝ। সহজাত বিবেক যে বিষয়ে সাক্ষ্য দেবার কথা অনায়াসে, সে বিষয়েই সে সংশয়গ্রস্ত বিভিন্ন যুক্তিতে। কখনো বিজ্ঞান, কখনো জাতীয়তাবাদ, কখনও-বা পশ্চিমাদের বুলির প্রতিফলন ঘটে তাদের মাঝে। আপাদমস্তক এদেরকে যুক্তিবাদী মনে হলেও বস্তুত এদের অধিকাংশই স্রেফ বিদ্বেষ পোষণকারী। সত্য-মিথ্যার মানদণ্ডকে ঘুরিয়ে দেয়া, অতঃপর জেনে বুঝে ইসলামের সাথে শত্রুতায় লিপ্ত হওয়া—এটাই এদের উদ্দেশ্য। নাস্তিক্যবাদের আড়ালে এভাবে ইসলাম বিদ্বেষ লালন শুরু হয়েছে বেশ কয়েক বছর আগেই। তথাপি এদের কথার মারপ্যাঁচে পড়ে অনেক বুদ্ধিদীপ্ত যুবক-যুবতী ধরছে নাস্তিকতার পথ। এদের অনেকেই সত্য-সন্ধানী। সত্যের প্রতি বিনয়ী সেই যুব সমাজের জন্য আরিফ আজাদ নিয়ে আসে এই বাংলার জমিনে 'প্যারাডক্সিক্যাল সাজিদ'। গল্পের আঙ্গিকে, যুক্তি এবং বিজ্ঞানের আলোকে সংশয়বাদীদের মাঝে প্রচলিত সকল প্রশ্নের জবাব তিনি লিখেছেন বইটিতে। ইতিপূর্বে পাঠক সমাজে ব্যাপক আলোড়ন সৃষ্টি করে এই বই। ছাত্র-শিক্ষক থেকে শুরু করে মানুষ দলে দলে কেনা শুরু করে বইটি এবং সংশয়ের পথ ছেড়ে ইসলামের পথে ফিরে আসে। সেই ধারাবাহিকতায় এবার প্যারাডক্সিক্যাল সাজিদ-২"
            },
            {
                id: 4,
                title: "প্যারাডক্সিক্যাল সাজিদ ১",
                author: "আরিফ আজাদ",
                category: "Islamic books",
                cover: "https://i.ibb.co/fdxb548T/paradoxical-sajid-1.jpg",
                demoUrl: "https://drive.google.com/file/d/1QHAPA5JwQqA5EWfRs19D-76H-85FzggX/view",
                downloadUrl: "https://www.dropbox.com/scl/fi/wq45urbwl9kz2qon6xefk/JustBoipdf.com.pdf?rlkey=77f7owyqk6306b5z2f4zm0tu0&st=q1tl4zuv&dl=1",
                pages: 464,
                rating: 4.7,
                date: "2008-08-01",
                featured: true,
                favorite: false,
                description: "বর্তমান যুগ হলো প্রেজেন্টাশানের যুগ। একটা জিনিসকে আপনি কিভাবে, কতোটা সহজে, কতোটা সাবলীলভাবে, কতোটা মাধুর্যতায় প্রেজেন্টেশান করছেন তার উপর কিন্তু অনেক কিছুই নির্ভর করে। ন্যাচারালি, মানুষের একটা স্বভাব হচ্ছে – এরা তত্ত্বকথা খুব কম হজম করতে পারে। এরা চায় সহজবোধ্যতা। প্যারাডক্সিক্যাল সাজিদ এর লেখক আরিফ আজাদ ঠিক এই পদ্ধতিই বেছে নিয়েছেন। তিনি গতানুগতিক লেকচার বা তত্বকথার ধাঁচে না গিয়ে, বক্তব্যের বিষয়গুলোকে গল্পের ধাঁচে ফেলে সাজিয়েছেন। প্রতিটি গল্পের শুরুতেই আছে মজার, আগ্রহ উদ্দীপক একটি সূচনা। কোথাও বা গল্পের কেন্দ্রীয় চরিত্র সাজিদের সাথে তাঁর বন্ধু আরিফের খুনসুটি, কোথাও বা মজার কোন স্মৃতির রোমন্থন, কোথাও বা আছে সিরিয়াস কোন ব্যাপারে সিরিয়াস কোন হুশিয়ারি। গল্পে মজা আছে, আনন্দ আছে। মোটামুটি, সার্থক গল্পে যা যা উপাদান থাকা দরকার, যা যা থাকলে পাঠকের গল্প পাঠে বিরক্তি আসেনা, রুচি হারায় না- তার সবকিছুর এক সম্মিলিত সন্নিবেশ যেন লেখক আরিফ আজাদের এই সিরিজের একেকটি এপিসোড। গল্পে গল্পে যুক্তি খন্ডন, পাল্টা যুক্তি ছুঁড়ে দেওয়া, পরম মমতায় অবিশ্বাসের অন্ধকার দূরীকরণে এ যেন এক বিশ্বস্ত শিল্পী।"
            },
            {
                id: 5,
                title: "প্যারাডক্সিক্যাল সাজিদ ২",
                author: "আরিফ আজাদ",
                category: "Islamic books",
                cover: "https://i.ibb.co/jZyjKXx4/justboipdf.png",
                demoUrl: "https://drive.google.com/file/d/1QH5ZC6rdsucnxFG5-o5yTpUyAtPB_2Wz/view",
                downloadUrl: "https://www.dropbox.com/scl/fi/z27v6i8iytnpx5s7vhnmk/JustBoipdf.com.pdf?rlkey=0h72zz1f0oho2plroto1e4tyr&st=98ncmraj&dl=1",
                pages: 235,
                rating: 4.6,
                date: "2019-02-15",
                featured: true,
                favorite: false,
                description: "ইসলাম কারও শত্রু হতে আসেনি। ইসলাম এসেছে মানুষকে ভুলে যাওয়া ওয়াদা স্মরণ করিয়ে দিতে, যে ওয়াদা আমরা প্রত্যেকেই দিয়ে এসেছি আল্লাহর কাছে রূহের জগতে। এবং আমাদের আসল শত্রু ইবলিশ শয়তানকে চিনিয়ে দিতেই আল্লাহ্‌ পাঠিয়েছেন যুগে যুগে নবি রসূল। কিন্তু কিছু লোক সেই শত্রুকে ছেড়ে ইসলামকেই শত্রু হিশেবে নিয়েছে! এর পেছনে একাধিক কারণ থাকলেও অন্যতম একটি কারণ হচ্ছে, নষ্ট হওয়া ফিতরাতি বুঝ। সহজাত বিবেক যে বিষয়ে সাক্ষ্য দেবার কথা অনায়াসে, সে বিষয়েই সে সংশয়গ্রস্ত বিভিন্ন যুক্তিতে। কখনো বিজ্ঞান, কখনো জাতীয়তাবাদ, কখনও-বা পশ্চিমাদের বুলির প্রতিফলন ঘটে তাদের মাঝে। আপাদমস্তক এদেরকে যুক্তিবাদী মনে হলেও বস্তুত এদের অধিকাংশই স্রেফ বিদ্বেষ পোষণকারী। সত্য-মিথ্যার মানদণ্ডকে ঘুরিয়ে দেয়া, অতঃপর জেনে বুঝে ইসলামের সাথে শত্রুতায় লিপ্ত হওয়া—এটাই এদের উদ্দেশ্য। নাস্তিক্যবাদের আড়ালে এভাবে ইসলাম বিদ্বেষ লালন শুরু হয়েছে বেশ কয়েক বছর আগেই। তথাপি এদের কথার মারপ্যাঁচে পড়ে অনেক বুদ্ধিদীপ্ত যুবক-যুবতী ধরছে নাস্তিকতার পথ। এদের অনেকেই সত্য-সন্ধানী। সত্যের প্রতি বিনয়ী সেই যুব সমাজের জন্য আরিফ আজাদ নিয়ে আসে এই বাংলার জমিনে 'প্যারাডক্সিক্যাল সাজিদ'। গল্পের আঙ্গিকে, যুক্তি এবং বিজ্ঞানের আলোকে সংশয়বাদীদের মাঝে প্রচলিত সকল প্রশ্নের জবাব তিনি লিখেছেন বইটিতে। ইতিপূর্বে পাঠক সমাজে ব্যাপক আলোড়ন সৃষ্টি করে এই বই। ছাত্র-শিক্ষক থেকে শুরু করে মানুষ দলে দলে কেনা শুরু করে বইটি এবং সংশয়ের পথ ছেড়ে ইসলামের পথে ফিরে আসে। সেই ধারাবাহিকতায় এবার প্যারাডক্সিক্যাল সাজিদ-২"
            }
        ];

        // DOM elements
        const gridContainer = document.getElementById('grid-container');
        const listContainer = document.getElementById('list-container');
        const gridViewBtn = document.getElementById('grid-view');
        const listViewBtn = document.getElementById('list-view');
        const searchInput = document.getElementById('search-input');
        const categoryFilter = document.getElementById('category-filter');
        const sortBy = document.getElementById('sort-by');
        const emptyState = document.getElementById('empty-state');
        const pagination = document.getElementById('pagination');
        const loadMoreBtn = document.getElementById('load-more-btn');
        const bookModal = document.getElementById('book-modal');
        const modalCoverImg = document.getElementById('modal-cover-img');
        const modalTitle = document.getElementById('modal-title');
        const modalAuthor = document.getElementById('modal-author');
        const modalPages = document.getElementById('modal-pages');
        const modalRating = document.getElementById('modal-rating');
        const modalDate = document.getElementById('modal-date');
        const modalCategory = document.getElementById('modal-category');
        const modalDescription = document.getElementById('modal-description');
        const modalDemoBtn = document.getElementById('modal-demo-btn');
        const modalDownloadBtn = document.getElementById('modal-download-btn');
        const modalFavoriteBtn = document.getElementById('modal-favorite-btn');
        const closeModal = document.querySelector('.close-modal');
        const embedModal = document.getElementById('embed-modal');
        const embedViewer = document.getElementById('embed-viewer');
        const closeEmbedBtn = document.getElementById('close-embed');
        const adminLoginBtn = document.getElementById('admin-login-btn');
        const adminLoginModal = document.getElementById('admin-login-modal');
        const adminLoginForm = document.getElementById('admin-login-form');
        const adminPanel = document.getElementById('admin-panel');
        const logoutBtn = document.getElementById('logout-btn');
        const addBookBtn = document.getElementById('add-book-btn');
        const bookForm = document.getElementById('book-form');
        const bookManagementForm = document.getElementById('book-management-form');
        const cancelBookBtn = document.getElementById('cancel-book-btn');
        const booksListAdmin = document.getElementById('books-list-admin');

        // Pagination variables
        const booksPerPage = 15;
        let currentPage = 1;
        let filteredBooks = [...books];
        let currentModalBookId = null;

        // Admin credentials (change these in production!)
        const ADMIN_CREDENTIALS = {
            username: "admin",
            password: "JustBoiPDF123"
        };

        // Function to trigger file download
        function downloadFile(url, filename) {
            const a = document.createElement('a');
            a.href = url;
            a.download = filename || url.split('/').pop();
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }

        // Create ad card for grid view
        function createGridAdCard() {
            const adCard = document.createElement('div');
            adCard.className = 'book-card';
            adCard.innerHTML = `
                <div class="book-cover" style="background:#f8f9fa;">
                    <a href="https://www.justboipdf.com" target="_blank">
                        <img src="https://i.ibb.co/cK5hsTTb/water-resized-250x180.png?text=Premium+Books" alt="bitcoin">
                    </a>
                    <span class="ad-badge">Promotion</span>
                </div>
                <div class="book-info">
                    <div class="book-title">Premium Book Collection</div>
                    <div class="book-author">Special Offer</div>
                    <div class="book-meta">
                        <span>Limited Time</span>
                        <span class="book-rating"><i class="fas fa-star"></i> 5.0</span>
                    </div>
                    <div class="book-actions">
                        <a href="https://www.justboipdf.com" target="_blank" class="btn btn-demo">
                            <i class="fas fa-eye"></i> View
                        </a>
                        <a href="https://www.justboipdf.com" target="_blank" class="btn btn-demo">
                            <i class="fas fa-eye"></i> Deal
                        </a>
                    </div>
                </div>
            `;
            return adCard;
        }

        // Create ad item for list view
        function createListAdItem() {
            const adItem = document.createElement('div');
            adItem.className = 'book-item';
            adItem.innerHTML = `
                <div class="list-cover" style="background:#f8f9fa;">
                    <a href="https://your-ad-link.com" target="_blank">
                        <img src="https://via.placeholder.com/60x80.png?text=Ad" alt="Premium Books">
                    </a>
                    <span class="ad-badge">Promotion</span>
                </div>
                <div class="list-info">
                    <div class="list-title">Premium Book Collection</div>
                    <div class="list-author">Special Offer - Limited Time</div>
                    <div class="list-meta">
                        <span>Exclusive Content</span>
                        <span class="list-rating"><i class="fas fa-star"></i> 5.0</span>
                    </div>
                </div>
                <div class="list-actions">
                    <a href="https://www.justboipdf.com" target="_blank" class="btn btn-demo">
                        <i class="fas fa-eye"></i> For You
                    </a>
                    <a href="https://www.justboipdf.com" target="_blank" class="btn btn-demo">
                        <i class="fas fa-eye"></i> You Like
                    </a>
                </div>
            `;
            return adItem;
        }

        // Render books in grid view
        function renderGridView(booksToRender) {
            if (currentPage === 1) {
                gridContainer.innerHTML = '';
                listContainer.style.display = 'none';
                gridContainer.style.display = 'grid';
            }
            
            if (booksToRender.length === 0 && currentPage === 1) {
                emptyState.style.display = 'block';
                gridContainer.style.display = 'none';
                loadMoreBtn.style.display = 'none';
                return;
            } else {
                emptyState.style.display = 'none';
                gridContainer.style.display = 'grid';
            }
            
            booksToRender.forEach((book, index) => {
                const bookCard = document.createElement('div');
                bookCard.className = 'book-card';
                bookCard.innerHTML = `
                    <div class="book-cover">
                        <img src="${book.cover}" alt="${book.title}">
                        ${book.featured ? '<span class="book-badge">বিশেষ</span>' : ''}
                    </div>
                    <div class="book-info">
                        <div class="book-title">${book.title}</div>
                        <div class="book-author">${book.author}</div>
                        <div class="book-meta">
                            <span>${book.pages} পৃষ্ঠা</span>
                            <span class="book-rating"><i class="fas fa-star"></i> ${book.rating}</span>
                        </div>
                        <div class="book-actions">
                            <button class="btn btn-demo view-details" data-id="${book.id}"><i class="fas fa-eye"></i>Demo</button>
                            <a href="${book.downloadUrl}" class="btn btn-download" data-id="${book.id}"><i class="fas fa-download"></i>Download</a>
                            <button class="btn btn-favorite" data-id="${book.id}">
                                <i class="${book.favorite ? 'fas' : 'far'} fa-heart"></i>
                            </button>
                        </div>
                    </div>
                `;
                gridContainer.appendChild(bookCard);
                
                if ((index + 1) % 5 === 0) {
                    gridContainer.appendChild(createGridAdCard());
                }
            });
            
            const startIndex = (currentPage - 1) * booksPerPage;
            const endIndex = startIndex + booksPerPage;
            if (endIndex >= filteredBooks.length) {
                loadMoreBtn.style.display = 'none';
            } else {
                loadMoreBtn.style.display = 'block';
            }
            
            addEventListeners();
        }

        // Render books in list view
        function renderListView(booksToRender) {
            if (currentPage === 1) {
                listContainer.innerHTML = '';
                gridContainer.style.display = 'none';
                listContainer.style.display = 'block';
            }
            
            if (booksToRender.length === 0 && currentPage === 1) {
                emptyState.style.display = 'block';
                listContainer.style.display = 'none';
                loadMoreBtn.style.display = 'none';
                return;
            } else {
                emptyState.style.display = 'none';
                listContainer.style.display = 'block';
            }
            
            booksToRender.forEach((book, index) => {
                const bookItem = document.createElement('div');
                bookItem.className = 'book-item';
                bookItem.innerHTML = `
                    <div class="list-cover">
                        <img src="${book.cover}" alt="${book.title}">
                        ${book.featured ? '<span class="list-badge">বিশেষ</span>' : ''}
                    </div>
                    <div class="list-info">
                        <div class="list-title">${book.title}</div>
                        <div class="list-author">${book.author}</div>
                        <div class="list-meta">
                            <span>${book.pages} পৃষ্ঠা</span>
                            <span class="list-rating"><i class="fas fa-star"></i> ${book.rating}</span>
                            <span>${new Date(book.date).toLocaleDateString()}</span>
                        </div>
                    </div>
                    <div class="list-actions">
                        <button class="btn btn-demo view-details" data-id="${book.id}"><i class="fas fa-eye"></i> View Demo</button>
                        <a href="${book.downloadUrl}" class="btn btn-download" data-id="${book.id}"><i class="fas fa-download"></i> Download PDF</a>
                        <button class="btn btn-favorite" data-id="${book.id}">
                            <i class="${book.favorite ? 'fas' : 'far'} fa-heart"></i>
                        </button>
                    </div>
                `;
                listContainer.appendChild(bookItem);
                
                if ((index + 1) % 5 === 0) {
                    listContainer.appendChild(createListAdItem());
                }
            });
            
            const startIndex = (currentPage - 1) * booksPerPage;
            const endIndex = startIndex + booksPerPage;
            if (endIndex >= filteredBooks.length) {
                loadMoreBtn.style.display = 'none';
            } else {
                loadMoreBtn.style.display = 'block';
            }
            
            addEventListeners();
        }

        // Add event listeners to interactive elements
        function addEventListeners() {
            document.querySelectorAll('.btn-favorite').forEach(btn => {
                btn.addEventListener('click', function() {
                    const bookId = parseInt(this.getAttribute('data-id'));
                    toggleFavorite(bookId);
                });
            });
            
            document.querySelectorAll('.view-details').forEach(btn => {
                btn.addEventListener('click', function() {
                    const bookId = parseInt(this.getAttribute('data-id'));
                    showBookDetails(bookId);
                });
            });
        }

        // Handle download button clicks
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('btn-download') || 
                e.target.parentElement.classList.contains('btn-download')) {
                e.preventDefault();
                const url = e.target.getAttribute('href') || 
                           e.target.parentElement.getAttribute('href');
                const bookId = e.target.getAttribute('data-id') || 
                             e.target.parentElement.getAttribute('data-id');
                
                if (bookId) {
                    const book = books.find(b => b.id === parseInt(bookId));
                    if (book) {
                        downloadFile(url, `${book.title}.pdf`);
                    } else {
                        downloadFile(url);
                    }
                } else {
                    downloadFile(url);
                }
            }
        });

        // Toggle favorite status
        function toggleFavorite(bookId) {
            const bookIndex = books.findIndex(book => book.id === bookId);
            if (bookIndex !== -1) {
                books[bookIndex].favorite = !books[bookIndex].favorite;
                
                const favoriteIcons = document.querySelectorAll(`.btn-favorite[data-id="${bookId}"] i`);
                favoriteIcons.forEach(icon => {
                    icon.className = books[bookIndex].favorite ? 'fas fa-heart' : 'far fa-heart';
                });
                
                if (currentModalBookId === bookId) {
                    modalFavoriteBtn.innerHTML = `<i class="${books[bookIndex].favorite ? 'fas' : 'far'} fa-heart"></i>`;
                }
                
                saveFavorites();
            }
        }

        // Save favorite status to localStorage
        function saveFavorites() {
            const favorites = books.filter(book => book.favorite).map(book => book.id);
            localStorage.setItem('bookFavorites', JSON.stringify(favorites));
        }

        // Load favorite status from localStorage
        function loadFavorites() {
            const favorites = JSON.parse(localStorage.getItem('bookFavorites')) || [];
            books.forEach(book => {
                book.favorite = favorites.includes(book.id);
            });
        }

        // Show book details in modal
        function showBookDetails(bookId) {
            const book = books.find(b => b.id === bookId);
            if (!book) return;
            
            currentModalBookId = bookId;
            
            modalCoverImg.src = book.cover;
            modalCoverImg.alt = book.title;
            modalTitle.textContent = book.title;
            modalAuthor.textContent = book.author;
            modalPages.textContent = book.pages;
            modalRating.textContent = book.rating;
            modalDate.textContent = new Date(book.date).toLocaleDateString();
            
            const categoryMap = {
                "Islamic books": "ইসলামিক বই",
                "design": "ডিজাইন",
                "business": "ব্যবসা",
                "science": "বিজ্ঞান"
            };
            modalCategory.textContent = categoryMap[book.category] || book.category;
            
            modalDescription.textContent = book.description;
            modalDemoBtn.href = book.demoUrl;
            modalDownloadBtn.href = book.downloadUrl;
            modalFavoriteBtn.innerHTML = `<i class="${book.favorite ? 'fas' : 'far'} fa-heart"></i>`;
            
            modalFavoriteBtn.onclick = () => {
                toggleFavorite(bookId);
            };
            
            modalDemoBtn.onclick = (e) => {
                e.preventDefault();
                if (book.demoUrl.includes('drive.google.com')) {
                    const fileIdMatch = book.demoUrl.match(/\/file\/d\/([^\/]+)/);
                    if (fileIdMatch) {
                        const fileId = fileIdMatch[1];
                        embedViewer.src = `https://drive.google.com/file/d/${fileId}/preview`;
                    } else {
                        embedViewer.src = book.demoUrl;
                    }
                } else if (book.demoUrl.endsWith('.pdf')) {
                    embedViewer.src = `https://docs.google.com/gview?url=${encodeURIComponent(book.demoUrl)}&embedded=true`;
                } else {
                    embedViewer.src = book.demoUrl;
                }
                embedModal.style.display = 'flex';
            };
            
            modalDownloadBtn.onclick = (e) => {
                e.preventDefault();
                downloadFile(book.downloadUrl, `${book.title}.pdf`);
            };
            
            bookModal.style.display = 'flex';
        }

        // Close modal
        function closeBookModal() {
            bookModal.style.display = 'none';
            currentModalBookId = null;
        }

        // Close embed modal
        function closeEmbedModal() {
            embedModal.style.display = 'none';
            embedViewer.src = '';
        }

        // Filter and sort books based on current criteria
        function filterAndSortBooks() {
            const searchTerm = searchInput.value.toLowerCase();
            const category = categoryFilter.value;
            const sortOption = sortBy.value;
            
            filteredBooks = books.filter(book => {
                const matchesSearch = book.title.toLowerCase().includes(searchTerm) || 
                                    book.author.toLowerCase().includes(searchTerm);
                const matchesCategory = category === 'all' || book.category === category;
                return matchesSearch && matchesCategory;
            });
            
            filteredBooks.sort((a, b) => {
                switch (sortOption) {
                    case 'title-asc':
                        return a.title.localeCompare(b.title);
                    case 'title-desc':
                        return b.title.localeCompare(a.title);
                    case 'date-newest':
                        return new Date(b.date) - new Date(a.date);
                    case 'date-oldest':
                        return new Date(a.date) - new Date(b.date);
                    case 'rating':
                        return b.rating - a.rating;
                    default:
                        return 0;
                }
            });
            
            currentPage = 1;
            
            const startIndex = (currentPage - 1) * booksPerPage;
            const endIndex = startIndex + booksPerPage;
            const booksToRender = filteredBooks.slice(startIndex, endIndex);
            
            if (gridViewBtn.classList.contains('active')) {
                renderGridView(booksToRender);
            } else {
                renderListView(booksToRender);
            }
        }

        // Load more books when button is clicked
        function loadMoreBooks() {
            currentPage++;
            const startIndex = (currentPage - 1) * booksPerPage;
            const endIndex = startIndex + booksPerPage;
            const additionalBooks = filteredBooks.slice(startIndex, endIndex);
            
            if (gridViewBtn.classList.contains('active')) {
                renderGridView(additionalBooks);
            } else {
                renderListView(additionalBooks);
            }
            
            if (additionalBooks.length > 0) {
                const lastBookElement = gridViewBtn.classList.contains('active') 
                    ? gridContainer.lastElementChild 
                    : listContainer.lastElementChild;
                lastBookElement.scrollIntoView({ behavior: 'smooth', block: 'end' });
            }
        }

        // Check if admin is logged in
        function isAdminLoggedIn() {
            return localStorage.getItem('adminLoggedIn') === 'true';
        }

        // Render books list for admin
        function renderAdminBooksList() {
            booksListAdmin.innerHTML = '';
            
            if (books.length === 0) {
                booksListAdmin.innerHTML = '<p>No books found.</p>';
                return;
            }
            
            books.forEach(book => {
                const bookItem = document.createElement('div');
                bookItem.className = 'book-item';
                bookItem.innerHTML = `
                    <div class="list-cover">
                        <img src="${book.cover}" alt="${book.title}" style="width:60px;height:80px;object-fit:cover;">
                    </div>
                    <div class="list-info" style="flex-grow:1;">
                        <div class="list-title">${book.title}</div>
                        <div class="list-author">${book.author}</div>
                        <div class="list-meta">
                            <span>${book.pages} pages</span>
                            <span class="list-rating"><i class="fas fa-star"></i> ${book.rating}</span>
                        </div>
                    </div>
                    <div class="list-actions">
                        <button class="admin-btn edit-book-btn" data-id="${book.id}">Edit</button>
                        <button class="admin-btn danger delete-book-btn" data-id="${book.id}">Delete</button>
                    </div>
                `;
                booksListAdmin.appendChild(bookItem);
            });
            
            document.querySelectorAll('.edit-book-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const bookId = parseInt(this.getAttribute('data-id'));
                    editBook(bookId);
                });
            });
            
            document.querySelectorAll('.delete-book-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const bookId = parseInt(this.getAttribute('data-id'));
                    if (confirm('Are you sure you want to delete this book?')) {
                        deleteBook(bookId);
                    }
                });
            });
        }

        // Edit book function
        function editBook(bookId) {
            const book = books.find(b => b.id === bookId);
            if (!book) return;
            
            document.getElementById('book-id').value = book.id;
            document.getElementById('book-title').value = book.title;
            document.getElementById('book-author').value = book.author;
            document.getElementById('book-category').value = book.category;
            document.getElementById('book-cover').value = book.cover;
            document.getElementById('book-demo').value = book.demoUrl;
            document.getElementById('book-download').value = book.downloadUrl;
            document.getElementById('book-pages').value = book.pages;
            document.getElementById('book-rating').value = book.rating;
            document.getElementById('book-date').value = book.date;
            document.getElementById('book-description').value = book.description;
            document.getElementById('book-featured').checked = book.featured;
            
            bookForm.style.display = 'block';
        }

        // Delete book function
        function deleteBook(bookId) {
            const index = books.findIndex(b => b.id === bookId);
            if (index !== -1) {
                books.splice(index, 1);
                localStorage.setItem('booksData', JSON.stringify(books));
                renderAdminBooksList();
                filterAndSortBooks();
            }
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', () => {
            loadFavorites();
            
            // Load books from localStorage if available
            if (localStorage.getItem('booksData')) {
                books = JSON.parse(localStorage.getItem('booksData'));
            }
            
            filterAndSortBooks();
            
            // Show admin panel if logged in
            if (isAdminLoggedIn()) {
                adminPanel.style.display = 'block';
                renderAdminBooksList();
            }
        });

        // Toggle between grid and list views
        gridViewBtn.addEventListener('click', () => {
            gridViewBtn.classList.add('active');
            listViewBtn.classList.remove('active');
            currentPage = 1;
            filterAndSortBooks();
        });

        listViewBtn.addEventListener('click', () => {
            listViewBtn.classList.add('active');
            gridViewBtn.classList.remove('active');
            currentPage = 1;
            filterAndSortBooks();
        });

        // Event listeners for search, filter, and sort
        searchInput.addEventListener('input', filterAndSortBooks);
        categoryFilter.addEventListener('change', filterAndSortBooks);
        sortBy.addEventListener('change', filterAndSortBooks);

        // Load more button event listener
        loadMoreBtn.addEventListener('click', loadMoreBooks);

        // Modal event listeners
        closeModal.addEventListener('click', closeBookModal);
        closeEmbedBtn.addEventListener('click', closeEmbedModal);
        
        window.addEventListener('click', (e) => {
            if (e.target === bookModal) {
                closeBookModal();
            }
            if (e.target === embedModal) {
                closeEmbedModal();
            }
        });

        // Admin login button click
        adminLoginBtn.addEventListener('click', () => {
            adminLoginModal.style.display = 'flex';
        });

        // Close admin modal when clicking outside
        adminLoginModal.addEventListener('click', (e) => {
            if (e.target === adminLoginModal) {
                adminLoginModal.style.display = 'none';
            }
        });

        // Admin login form submission
        adminLoginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const username = document.getElementById('admin-username').value;
            const password = document.getElementById('admin-password').value;
            
            if (username === ADMIN_CREDENTIALS.username && password === ADMIN_CREDENTIALS.password) {
                localStorage.setItem('adminLoggedIn', 'true');
                adminLoginModal.style.display = 'none';
                adminPanel.style.display = 'block';
                renderAdminBooksList();
                
                adminLoginForm.reset();
            } else {
                alert('Invalid credentials');
            }
        });

        // Logout button click
        logoutBtn.addEventListener('click', () => {
            localStorage.removeItem('adminLoggedIn');
            adminPanel.style.display = 'none';
        });

        // Add book button click
        addBookBtn.addEventListener('click', () => {
            bookManagementForm.reset();
            document.getElementById('book-id').value = '';
            bookForm.style.display = 'block';
        });

        // Cancel book form button click
        cancelBookBtn.addEventListener('click', () => {
            bookForm.style.display = 'none';
        });

        // Book management form submission
        bookManagementForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const bookId = document.getElementById('book-id').value;
            const bookData = {
                title: document.getElementById('book-title').value,
                author: document.getElementById('book-author').value,
                category: document.getElementById('book-category').value,
                cover: document.getElementById('book-cover').value,
                demoUrl: document.getElementById('book-demo').value,
                downloadUrl: document.getElementById('book-download').value,
                pages: parseInt(document.getElementById('book-pages').value),
                rating: parseFloat(document.getElementById('book-rating').value),
                date: document.getElementById('book-date').value,
                description: document.getElementById('book-description').value,
                featured: document.getElementById('book-featured').checked,
                favorite: false
            };
            
            if (bookId) {
                const index = books.findIndex(b => b.id === parseInt(bookId));
                if (index !== -1) {
                    books[index] = { ...books[index], ...bookData };
                }
            } else {
                const newId = books.length > 0 ? Math.max(...books.map(b => b.id)) + 1 : 1;
                books.push({ id: newId, ...bookData });
            }
            
            localStorage.setItem('booksData', JSON.stringify(books));
            
            renderAdminBooksList();
            filterAndSortBooks();
            
            bookForm.style.display = 'none';
        });
    </script>
</body>
</html>
